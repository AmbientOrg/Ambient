{% extends "views/base" %}

{% block title %}{{ item.name }}{% endblock title %}

{% block sidebar %}
<h2>{{ item.name }} <small>{{ item.version }}</small></h2>

<h3>Packages</h3>
<ul>
    {% for pair in packages %}
    <li>
        <a
            href="{{item_url(from=page_url, item_id=pair[0])}}"
            {% if pair[0] == item_id %}
            class="highlight"
            {% endif %}
        >{{ pair[1].name }}</a>
    </li>
    {% endfor %}
</ul>
{% endblock sidebar %}

{% block content %}
<h1>{{ item.name }} <small>{{ item.version }}</small></h1>

<h3>Metadata</h3>
<table>
    {% if item.repository %}
    <tr>
        <th>Repository</th>
        <td>{{ item.repository }}</td>
    </tr>
    {% endif %}
    {% if item.ambient_version %}
    <tr>
        <th>Ambient version</th>
        <td>{{ item.ambient_version }}</td>
    </tr>
    {% endif %}
</table>

<h3>Description</h3>
<p>
    {% if item.description %}
    {{ item.description | markdown }}
    {% else %}
    No description available.
    {% endif %}
</p>

<h3>Dependencies</h3>
<ul>
    {% for dep_id, dep in item.dependencies %}
    <li>
        <a href="{{ item_url(from=page_url, item_id=dep.id) }}">{{ dep_id }}</a>
    </li>
    {% endfor %}
</ul>

{% include "partials/scope" %}
{% endblock content %}