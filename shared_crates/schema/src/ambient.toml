[ember]
id = "core"
owner = "ambient"
description = "Contains all core components for the Ambient runtime."
name = "Core Components"
version = "0.3.0-dev"
includes = [
    "schema/animation.toml",
    "schema/app_.toml",
    "schema/audio.toml",
    "schema/camera.toml",
    "schema/ecs.toml",
    "schema/input.toml",
    "schema/layout.toml",
    "schema/model.toml",
    "schema/network.toml",
    "schema/physics.toml",
    "schema/player.toml",
    "schema/prefab.toml",
    "schema/primitives.toml",
    "schema/procedurals.toml",
    "schema/rect.toml",
    "schema/rendering.toml",
    "schema/text.toml",
    "schema/transform.toml"
]

# Messages
[messages.frame]
name = "Frame"
description = "Sent to all modules every frame."
fields = {}

[messages.collision]
name = "Collision"
description = "Sent when a collision occurs."
fields = { ids = { container-type = "vec", element-type = "entity-id" } }

[messages.collider-loads]
name = "Collider Loads"
description = "Sent when colliders load."
fields = { ids = { container-type = "vec", element-type = "entity-id" } }

[messages.module-load]
name = "Module Load"
description = "Sent to a module when it loads."
fields = {}

[messages.module-unload]
name = "Module Unload"
description = "Sent to a module when it unloads."
fields = {}

[messages.window-focus-change]
name = "Window Focus Change"
description = "Sent when the window gains or loses focus."
fields = { focused = "bool" }

[messages.window-close]
name = "Window Close"
description = "Sent when the window is closed."
fields = {}

[messages.window-keyboard-character]
name = "Window Keyboard Character"
description = "Sent when the window receives a character from the keyboard."
fields = { character = "string" }

[messages.window-keyboard-modifiers-change]
name = "Window Keyboard Modifiers Change"
description = "Sent when the window's keyboard modifiers change."
fields = { modifiers = "u32" }

[messages.window-keyboard-input]
name = "Window Keyboard Input"
description = "Sent when the window receives a keyboard input."
fields = { pressed = "bool", modifiers = "u32", keycode = { type = "option", element-type = "string" } }

[messages.window-mouse-input]
name = "Window Mouse Input"
description = "Sent when the window receives a mouse input."
fields = { pressed = "bool", button = "u32" }

[messages.window-mouse-wheel]
name = "Window Mouse Wheel"
description = "Sent when the window receives a mouse wheel input."
fields = { delta = "vec2", pixels = "bool" }

[messages.window-mouse-motion]
name = "Window Mouse Motion"
description = "Sent when the window receives a mouse motion input."
fields = { delta = "vec2" }
