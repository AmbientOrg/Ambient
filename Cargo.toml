[workspace]
default-members = ["app"]
exclude = ["guest"]
members = [
    "crates/*",
    "libs/*",
    "app",
]
resolver = "2"

[workspace.package]
version = "0.0.1"

[workspace.dependencies]
profiling = { git = "https://github.com/PlayDims/profiling", features = [
    "profile-with-puffin",
] }
tracing = "0.1.35"
wgpu = "0.14.2"
winit = { version = "0.27.5", features = ["serde"] }
wgpu-subscriber = "0.1.0"
futures = { version = "0.3", default-features = false, features = ["std"] }
tokio = { version = "1.20", features = ["full"] }
bytemuck = { version = "1.10", features = ["derive"] }
glam = { version = "0.22", features = ["bytemuck", "serde", "rand"] }
nalgebra = { version = "0.29.0", features = ["convert-glam017"] }
gltf = "1.1.0"
ordered-float = { version = "2.10.0", features = ["serde"] }
derive_more = "0.99.11"
image = "0.24.5"
itertools = "0.10.3"
ndarray = { version = "0.15.3", features = ["serde"] }
friendly_id = "0.3.0"
rand = "0.8.0"
rand_pcg = "0.3.1"
glyph_brush = "0.7.4"
log = "0.4"
dyn-clonable = "0.9.0"
paste = "1.0"
as-any = "0.2.0"
closure = "0.3.0"
serde = { version = "1.0", features = ["derive", "rc"] }
serde_bytes = "0.11.5"
serde_json = "1.0"
byteorder = "1.4.3"
bincode = "1.3.3"
lazy_static = "1.4.0"
derivative = "2.2.0"
async-trait = "0.1.56"
type-map = "0.5.0"
png = "0.17.2"
puffin = "0.13.3"
puffin_http = "0.10.0"
fbxcel = { version = "0.9.0", features = ["tree"] }
reqwest = { version = "0.11.11", default-features = false, features = [
    'blocking',
    'rustls-tls',
    'json',
] }
url = { version = "2", features = ["serde"] }
thiserror = "1.0"
regex = "1.5.4"
thread-priority = "0.8.2"
once_cell = "1.13.0"
smallvec = "1.8.0"
downcast-rs = "1.2.0"
noise = { version = "0.7.0", default-features = false }
withers_derive = "0.2.0"
yaml-rust = { version = "0.5", package = "yaml-rust-davvid" }
tokio-util = { version = "0.7.0", features = ["codec"] }
maplit = "1.0.2"
directories = "3.0"
rust-s3 = { version = "0.28.1", default-features = false, features = [
    "tags",
    "tokio-rustls-tls",
    "fail-on-err",
] }
chrono = { version = "0.4", features = ["serde"] }
argon2 = "0.3.1"
manual_future = "0.1.1"
base64 = "0.13.0"
env_logger = "0.9.0"
async-recursion = "1.0.0"
anyhow = { version = "1.0", features = ["backtrace"] }
aes-gcm = "0.9.4"
clipboard = { version = "0.5.0" }
open = "2.0.2"
bitflags = "1.3"
quinn = "0.8.5"
rustls = { version = "0.20.6", features = ["dangerous_configuration", "quic"] }
webpki = "0.22.0"
parking_lot = { version = "0.12.0", features = ["deadlock_detection", "serde"] }
clap = { version = "4.0", features = ["derive"] }
zip = "0.5.13"
rand_core = { version = "0.6", features = ["std"] }
git-version = { git = "https://github.com/fusion-engineering/rust-git-version" }
sentry = { version = "0.27.0", default-features = false, features = [
    'backtrace',
    'contexts',
    'panic',
    'debug-images',
    'reqwest',
    'rustls',
    'anyhow',
] }
sentry-contrib-breakpad = "0.5.0"
sentry-log = "0.27.0"
sentry-contrib-native = { version = "0.3.1" }
sentry-anyhow = "0.27.0"
enumflags2 = "0.6"
num-traits = "0.2"
num-derive = "0.3"
proc-macro2 = "1.0"
quote = "1.0"
pretty_assertions = "1.2.1"
syn = { version = "1.0", features = ["full", "extra-traits"] }
proc-macro-crate = "1.1.0"
bytes = "1.1.0"
dashmap = "5.3.0"
slotmap = "1.0.6"
atomic_refcell = "0.1.8"
flume = { version = "0.10", features = ["async"] }
tokio-postgres = "0.7.6"
machine-uid = "0.2.0"
im = "15.1.0"
axum = "0.5.7"
tower-http = { version = "0.3.0", features = ["cors", "fs"] }
tower = "0.4.13"
indexmap = { version = "1.8.2", features = ["serde"] }
fixed-vec-deque = "0.1.9"
hex = "0.4.3"
ring = "0.16.20"
data-encoding = "2.3.2"
convert_case = "0.6.0"
cloud-storage = { version = "0.11.1", default-features = false, features = [
    "rustls-tls",
    "global-client",
] }
wasmtime = "1.0"
wasmtime-wasi = "1.0"
wasi-common = "1.0"
which = "4.3.0"
fs_extra = "1.2.0"
sanitize-filename = "0.4.0"
firestore_grpc = "0.137.0"
gcp_auth = "0.7.3"
wry = "0.22.5"
slugify = "0.1.0"
serde_yaml = "0.8.26"
bit-set = "0.5.3"
bit-vec = "0.6.3"
semver = "1.0.14"
glob = "0.3.0"
tokio-stream = "0.1.9"
walkdir = "2"
relative-path = { version = "1.7", features = ["serde"] }
pin-project = "1.0"
abort-on-drop = "0.2"
toml = "0.7.1"
futures-signals = "0.3"
percent-encoding = "2.2.0"
indoc = "2.0"
local-ip-address = "0.5.1"
cargo_toml = "0.15.0"

# Patch cap-std until wasmtime/wit-bindgen can be updated
[patch.crates-io]
cap-std = { git = "https://github.com/bytecodealliance/cap-std.git", branch = "0.26-with-a-0.25-version-number" }
cap-primitives = { git = "https://github.com/bytecodealliance/cap-std.git", branch = "0.26-with-a-0.25-version-number" }
cap-fs-ext = { git = "https://github.com/bytecodealliance/cap-std.git", branch = "0.26-with-a-0.25-version-number" }
